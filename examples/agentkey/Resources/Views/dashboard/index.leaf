#extend("base"):
    #export("content"):
        <section class="dashboard-header">
            <div class="container">
                <h1>Dashboard</h1>
                <p>Manage your agent identity</p>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <div class="dashboard-grid">
                    <nav class="dashboard-nav">
                        <a href="/dashboard" class="dashboard-nav-link active">Overview</a>
                        <a href="/dashboard/profile" class="dashboard-nav-link">Profile</a>
                        <a href="/dashboard/keys" class="dashboard-nav-link">Keys</a>
                        <a href="/dashboard/proofs" class="dashboard-nav-link">Proofs</a>
                        <a href="/dashboard/activity" class="dashboard-nav-link">Activity</a>
                        <hr>
                        <a href="/#(agent.subject)" class="dashboard-nav-link">View Public Profile</a>
                    </nav>

                    <main class="dashboard-main">
                        <div class="dashboard-welcome">
                            <h2>Welcome, #(agent.displayName)</h2>
                            <p class="subject">@#(agent.subject)</p>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value">#(stats.keyCount)</div>
                                <div class="stat-label">Active Keys</div>
                                <a href="/dashboard/keys" class="stat-link">Manage</a>
                            </div>

                            <div class="stat-card">
                                <div class="stat-value">#(stats.proofCount)</div>
                                <div class="stat-label">Identity Proofs</div>
                                <a href="/dashboard/proofs" class="stat-link">Manage</a>
                            </div>

                            <div class="stat-card">
                                <div class="stat-value stat-value-#(stats.verificationStatus)">#(stats.verificationStatus)</div>
                                <div class="stat-label">Verification Status</div>
                            </div>
                        </div>

                        <div class="dashboard-section">
                            <h3>Quick Actions</h3>
                            <div class="quick-actions">
                                <a href="/dashboard/keys" class="action-card">
                                    <span class="action-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg></span>
                                    <span class="action-label">Add Signing Key</span>
                                </a>
                                <a href="/dashboard/proofs" class="action-card">
                                    <span class="action-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 11l3 3L22 4"/><path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/></svg></span>
                                    <span class="action-label">Add Identity Proof</span>
                                </a>
                                <a href="/dashboard/profile" class="action-card">
                                    <span class="action-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg></span>
                                    <span class="action-label">Edit Profile</span>
                                </a>
                            </div>
                        </div>

                        #if(hasRecentActivity):
                            <div class="dashboard-section">
                                <h3>Recent Activity</h3>
                                <ul class="activity-list">
                                    #for(activity in recentActivity):
                                        <li class="activity-item">
                                            <span class="activity-action">#(activity.action)</span>
                                            <span class="activity-time">#date(activity.createdAt, "MMM d, yyyy HH:mm")</span>
                                            #if(activity.ipAddress):
                                                <span class="activity-ip">#(activity.ipAddress)</span>
                                            #endif
                                        </li>
                                    #endfor
                                </ul>
                                <a href="/dashboard/activity" class="btn btn-secondary btn-small">View All Activity</a>
                            </div>
                        #endif
                    </main>
                </div>
            </div>
        </section>
    #endexport
#endextend
